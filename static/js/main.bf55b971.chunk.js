(this["webpackJsonpcorona-graphs"]=this["webpackJsonpcorona-graphs"]||[]).push([[0],{190:function(e,t,a){e.exports=a(393)},195:function(e,t,a){},197:function(e,t,a){},393:function(e,t,a){"use strict";a.r(t);var n,r=a(1),o=a.n(r),i=a(20),c=a.n(i),s=(a(195),a(28)),l=a.n(s),u=a(60),d=a(9),h=a(10),f=a(11),m=a(12),p=a(13),b=a(147),y=a(160),v=(a(197),a(148)),g=a.n(v),w=a(16),k=["totalCases","newCases","totalDeaths","newDeaths"],E=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(m.a)(t).call(this,e))).renderCustomizedLegend=function(e){var t=e.payload;return o.a.createElement("div",{className:"customized-legend"},t.map((function(e){var t=e.dataKey,n=e.color,r=e.label,i=a.state.disabled.includes(t),c={marginRight:10,color:i?"#000":"#AAA"};return o.a.createElement("span",{className:"legend-item",onClick:function(){return a.handleClick(t)},style:c},o.a.createElement(w.f,{width:20,height:20},o.a.createElement(w.g,{cx:10,cy:10,type:"circle",size:50,fill:n}),i&&o.a.createElement(w.g,{cx:10,cy:10,type:"circle",size:25,fill:"#FFF"})),o.a.createElement("span",null,r))})))},a.state={disabled:[],chartLines:[{dataKey:"newCases",color:"#ff7300",label:"Daily cases"},{dataKey:"newDeaths",color:"#ffff00",label:"Daily deaths"},{dataKey:"totalCases",color:"#ff00ff",label:"Total cases"},{dataKey:"totalDeaths",color:"#34c3eb",label:"Total Deaths"}]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleClick",value:function(e){this.state.disabled.includes(e)?this.setState({disabled:this.state.disabled.filter((function(t){return t!==e}))}):this.setState({disabled:this.state.disabled.concat(e)})}},{key:"render",value:function(){var e=this,t=this.props.dataPoints;if(!t)return null;var a=t;return o.a.createElement(w.e,{height:800,className:"chart-container"},o.a.createElement(w.d,{width:800,height:800,data:a,margin:{top:25,right:25,left:40,bottom:25}},this.state.chartLines.filter((function(t){return!e.state.disabled.includes(t.dataKey)})).map((function(e){return o.a.createElement(w.c,{name:e.label,type:"monotone",dataKey:e.dataKey,stroke:e.color,yAxisId:0})})),o.a.createElement(w.i,{dataKey:"date",textAnchor:"end",tick:{angle:-70,fontSize:20},height:225}),o.a.createElement(w.j,{dataKey:k.filter((function(t){return!e.state.disabled.includes(t)}))[0],domain:[0,"auto"],tick:{fontSize:20},width:40},o.a.createElement(w.a,{value:"Persons",angle:-90,position:"insideBottomLeft",offset:1,style:{fontSize:"80%",fill:"rgba(0, 204, 102, 0.70)"}}),"/>"),o.a.createElement(w.h,{wrapperStyle:{borderColor:"white",boxShadow:"2px 2px 3px 0px rgb(204, 204, 204)"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.8)"},labelStyle:{fontWeight:"bold",color:"#666666"}}),o.a.createElement(w.b,{verticalAlign:"top",height:36,content:this.renderCustomizedLegend,payload:this.state.chartLines})))}}]),t}(r.Component),C=a(159),D="https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/ecdc/full_data.csv",O={value:"Denmark",label:"Denmark"},j=O.value,x=[{value:"Denmark",label:"Denmark"}],S=function(e){if(n)return n;var t={},a=String(e).split("\n"),r=!0,o=!0,i=!1,c=void 0;try{for(var s,l=a[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value;if(r)r=!1;else{var d=u.split(","),h=Object(y.a)(d,6),f=h[0],m=h[1],p=h[2],b=h[3],v=h[4],g=h[5];m&&(t[m]||(t[m]=[]),t[m].push({date:new Date(f).toISOString().substring(0,10),newCases:Number(p),newDeaths:Number(b),totalCases:Number(v),totalDeaths:Number(g)}))}}}catch(w){i=!0,c=w}finally{try{o||null==l.return||l.return()}finally{if(i)throw c}}return n=t},K={option:function(e,t){return Object(b.a)({},e,{color:t.isSelected?"orange":"black"})}},N=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"getData",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(D));case 2:a=e.sent,n=S(a.data),r=Object.keys(n).map((function(e){return{value:e,label:e}})),this.setState({dataForCountry:n[t],countries:r,country:t});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData(j);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_onChange",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData(t.value);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("div",{style:{width:"40%"}},o.a.createElement(C.a,{options:this.state.countries||x,onChange:function(t){return e._onChange(t)},defaultValue:this.state.country||O,styles:K})),o.a.createElement("div",{style:{width:"98%",height:"80%"}},o.a.createElement(E,{dataPoints:this.state.dataForCountry}))),o.a.createElement("div",{className:"Bottom-right"},"Sources: ECDC via ",o.a.createElement("a",{href:D},"OWID")," under ",o.a.createElement("a",{href:"https://creativecommons.org/licenses/by/4.0/"},"CC BY 4.0")))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[190,1,2]]]);
//# sourceMappingURL=main.bf55b971.chunk.js.map